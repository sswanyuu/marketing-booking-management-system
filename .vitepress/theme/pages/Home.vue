<template>
  <div class="home d-flex flex-column align-items-center">
    <!-- hero -->
    <section class="hero">
      <Button variant="primary">é ç´„ Demo</Button>
    </section>
    <!-- brands -->
    <section
      class="brands d-flex flex-column align-items-center gap-4 gap-md-8"
    >
      <div class="brands__title text-gray">é ˜å…ˆå“ç‰Œç‡å…ˆæ¡ç”¨</div>
      <div class="brands__list row justify-content-center">
        <img
          src="../assets/images/pages/home/brand-1.png"
          class="col-auto brand__logo"
          alt="brand-1"
        />
        <img
          src="../assets/images/pages/home/brand-2.png"
          class="col-auto brand__logo"
          alt="brand-2"
        />
        <img
          src="../assets/images/pages/home/brand-3.png"
          class="col-auto brand__logo"
          alt="brand-3"
        />
        <img
          src="../assets/images/pages/home/brand-4.png"
          class="col-auto brand__logo"
          alt="brand-4"
        />
        <img
          src="../assets/images/pages/home/brand-5.png"
          class="col-auto brand__logo"
          alt="brand-5"
        />
      </div>
    </section>
    <!-- features -->
    <section
      class="features rounded-4 bg-primary text-white d-flex justify-content-center"
    >
      <div
        class="header-container d-flex flex-column align-items-center gap-4 gap-md-6"
      >
        <div class="header-container__title">ä¸åªæ˜¯è¨‚ä½é€™éº¼ç°¡å–®</div>
        <div class="header-container__description text-center">
          å…¨æ–¹ä½è§£æ±ºæ–¹æ¡ˆï¼Œé›¶é–€æª»ä¸Šæ‰‹ï¼Œæ¡Œä½ç®¡ç†ã€æ‹“å±•å®¢æºï¼Œä¸€å¥—æå®šã€‚é ˜å…ˆå“ç‰Œç‡å…ˆæ¡ç”¨
        </div>
      </div>
    </section>
    <!-- pain points -->
    <section
      ref="painPointsSection"
      class="painpoints d-flex align-items-center flex-column gap-8"
    >
      <div class="painpoints-background" />
      <div
        class="header-container d-flex flex-column align-items-center gap-4 gap-md-6"
      >
        <div class="header-container__title">ç®¡ç†çš„é›£é¡Œï¼Œæˆ‘å€‘æ‡‚</div>
        <div class="header-container__description text-center text-gray">
          ä¸æ˜¯åªèƒ½ç¿’æ…£æ··äº‚ï¼Œæˆ‘å€‘æä¾›æ›´å¥½çš„é¸æ“‡ï¼Œè®“é¤å»³ç®¡ç†å›åˆ°ä½ èƒ½æŒæ¡çš„ç¯€å¥ï¼Œç—›é»ä¸å†æ˜¯æ—¥å¸¸ã€‚
        </div>
      </div>
      <div class="painpoints__list row g-5 d-none d-md-flex">
        <img
          src="../assets/images/pages/home/painpoint-1.png"
          alt="painpoint-1"
          class="painpoints_item1 col-12"
        />
        <img
          src="../assets/images/pages/home/painpoint-2.png"
          alt="painpoint-2"
          class="painpoints_item2 col-auto"
        />
        <img
          src="../assets/images/pages/home/painpoint-3.png"
          alt="painpoint-3"
          class="painpoints_item3 col-auto"
        />
      </div>
      <div
        class="painpoints__list gap-5 d-flex d-md-none flex-column align-items-stretch"
      >
        <img
          src="../assets/images/pages/home/painpoint-1-mobile.png"
          alt="painpoint-1"
          class="painpoints_item1"
        />
        <img
          src="../assets/images/pages/home/painpoint-2-mobile.png"
          alt="painpoint-2"
          class="painpoints_item2"
        />
        <img
          src="../assets/images/pages/home/painpoint-3-mobile.png"
          alt="painpoint-3"
          class="painpoints_item3"
        />
      </div>
    </section>
    <!-- background image -->
    <section class="background-image w-100 d-flex justify-content-end">
      <img src="../assets/images/pages/home/bg.png" alt="background-image" />
    </section>
    <!-- solutions -->
    <section class="solutions d-flex flex-column align-items-center">
      <div
        class="header-container d-flex flex-column align-items-center gap-4 gap-md-6"
      >
        <div class="header-container__title">
          å…¨æ–¹ä½çš„ç‡Ÿé‹é«”é©—ï¼Œè®“ä½ å°ˆæ³¨æŠŠé¤å»³åšåˆ°æœ€å¥½
        </div>
      </div>
      <div class="row g-5">
        <div
          v-for="solution in solutions"
          :key="solution.title"
          class="col-md-6"
          :class="solution.containerClass"
        >
          <div
            class="solution d-flex justify-content-between align-items-center flex-column bg-gray-light rounded-4 pt-md-9 px-md-9 pt-7 px-7 mx-0"
            :class="solution.solutionClass"
          >
            <div class="info d-flex flex-column gap-3 gap-md-4">
              <div class="info__title">{{ solution.title }}</div>
              <div class="info__description text-gray">
                {{ solution.description }}
              </div>
            </div>
            <div
              class="solution__image-container h-20 d-flex flex-column-reverse"
            >
              <img :src="solution.image" alt="solution-image" />
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import Solution1 from '../assets/images/pages/home/solution-1.png';
import Solution2 from '../assets/images/pages/home/solution-2.png';
import Solution3 from '../assets/images/pages/home/solution-3.png';
import Solution4 from '../assets/images/pages/home/solution-4.png';
import Solution5 from '../assets/images/pages/home/solution-5.png';

// import FeatureCard from './components/FeatureCard.vue';

const features = [
  {
    title: 'ä¸€éµé ç´„ãƒ»è¼•é¬†å›è¨ª',
    image: '../assets/images/pages/home/feature-1.png',
  },
  {
    title: 'å¾æœ¬åœ°åˆ°åœ‹éš›',
    image: '../assets/images/pages/home/feature-2.png',
  },
  {
    title: 'å®¢è£½ç³»çµ±ãƒ»è¼•é¬†åµŒå…¥',
    image: '../assets/images/pages/home/feature-3.png',
  },
];
const solutions = [
  {
    title: 'LINE è¨Šæ¯æ•´åˆ',
    description:
      'è‡ªå‹•ç™¼é€è¨‚ä½èˆ‡å€™è£œé€šçŸ¥ï¼Œä¸å†ä¾è³´äººå·¥é€ä¸€è¯ç¹«ï¼Œè®“é¡§å®¢å³æ™‚æ”¶åˆ°æ›´æ–°ï¼Œä¹Ÿè®“å“¡å·¥æœ‰æ›´å¤šæ™‚é–“å°ˆæ³¨æœå‹™ç¾å ´ã€‚',
    image: Solution1,
  },
  {
    title: 'Google è¨‚ä½æ•´åˆ',
    description:
      'æœå°‹çµæœä¸åªæ˜¯æ›å…‰ï¼Œè€Œèƒ½ç›´æ¥è½‰åŒ–ç‚ºè¨‚ä½æ©Ÿæœƒã€‚æœå°‹çµæœåŒæ™‚å‡ºç¾è¨‚ä½é€£çµï¼Œå¤§å¹…æå‡è½‰å–®æ•ˆç‡ã€‚',
    image: Solution2,
  },
  {
    title: 'é ä»˜è¨‚é‡‘èˆ‡æé†’åŠŸèƒ½',
    description:
      'å½ˆæ€§è¨­å®šè¨‚é‡‘é‡‘é¡èˆ‡ä»˜æ¬¾æ–¹å¼ï¼Œæ­é…è‡ªå‹•æé†’æ©Ÿåˆ¶ï¼Œæœ‰æ•ˆé™ä½ No Show ç‡ï¼Œè®“æ¯ä¸€ä»½é£Ÿæèˆ‡åº§ä½éƒ½è¢«å–„ç”¨ï¼Œæå‡ç‡Ÿé‹æ•ˆç‡ã€‚',
    image: Solution3,
  },
  {
    title: 'CRM èˆ‡å†è¡ŒéŠ·å·¥å…·',
    description:
      'å…§å»ºé¡§å®¢è³‡æ–™ç³»çµ±èˆ‡è¡ŒéŠ·æ¨¡çµ„ï¼Œè¼•é¬†è¨­å®šæ¨æ’­å„ªæƒ ã€æ–°èœå–®é€šçŸ¥èˆ‡ç¯€æ—¥å•å€™ï¼Œå¾ä¸€æ¬¡æ€§å®¢äººé¤Šæˆå¿ èª ç†Ÿå®¢ã€‚',
    image: Solution4,
  },
  {
    title: 'è·¨åº—å…±ç”¨ä»˜æ¬¾èˆ‡å‚™è¨»è³‡æ–™',
    description:
      'è¨˜éŒ„æ¯ä½é¡§å®¢çš„ä»˜æ¬¾ç´€éŒ„èˆ‡è¨‚ä½åå¥½ï¼Œä¸è«–å“ªå®¶åˆ†åº—ï¼Œä¸€æ¬¡è¼¸å…¥å³å¯é€šç”¨ï¼Œè®“å›è¨ªé«”é©—æ›´åŠ é †æš¢ï¼Œæœå‹™æ›´æœ‰æº«åº¦ã€‚',
    image: Solution5,
    containerClass: ['col-md-12'],
    solutionClass: ['col-md-12', 'flex-md-row'],
  },
];

import { ref, onMounted, onUnmounted } from 'vue';

const painPointsSection = ref(null);

const handleScroll = () => {
  if (!painPointsSection.value) return;

  const painpointsElement = painPointsSection.value;
  if (!painpointsElement) return;

  const rect = painpointsElement.getBoundingClientRect();
  const windowHeight = window.innerHeight;

  const scrollProgress = Math.max(
    0,
    Math.min(1, (windowHeight - rect.bottom) / windowHeight)
  );

  // Keep opacity at 1 when scrollProgress is 0-0.5, then fade from 0.5-1
  const opacity =
    scrollProgress <= 0.5 ? 1 : Math.max(0, 2 - 2 * scrollProgress);
  painPointsSection.value.style.opacity = opacity;
};

onMounted(() => {
  window.addEventListener('scroll', handleScroll);
  console.log('ğŸš€ ~ window:', window);
  handleScroll();
});

onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll);
});
</script>

<style lang="scss">
@import '../../../scss/pages/_home.scss';
</style>
